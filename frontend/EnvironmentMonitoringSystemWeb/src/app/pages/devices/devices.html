<h2>Dispositivos</h2>

<div class="actions" style="margin-bottom: 20px; display: flex; justify-content: flex-start;">
    <button mat-raised-button color="primary" (click)="openAddDialog()">Adicionar</button>
</div>

<div *ngIf="errorMessage" class="alert alert-warning">
    {{ errorMessage }}
</div>

<table mat-table [dataSource]="devices" *ngIf="devices.length > 0" class="mat-elevation-z2" style="width: 100%;">

    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef class="col-name">Id</th>
        <td mat-cell *matCellDef="let d" class="col-name">{{ d.id }}</td>
    </ng-container>

    <ng-container matColumnDef="deviceName">
        <th mat-header-cell *matHeaderCellDef class="col-name">Nome</th>
        <td mat-cell *matCellDef="let d" class="col-name">{{ d.deviceName }}</td>
    </ng-container>

    <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef class="col-location">Localização</th>
        <td mat-cell *matCellDef="let d" class="col-location">{{ d.location }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="col-actions">Ações</th>
        <td mat-cell *matCellDef="let d" class="col-actions">
            <button mat-raised-button class="btn-edit" (click)="openEditDialog(d)">Editar</button>
            <button mat-raised-button class="btn-view" (click)="openViewDialog(d)">Visualizar</button>
            <button mat-raised-button class="btn-delete" (click)="deleteDevice(d)">Excluir</button>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>